(function(n,o,i,u,M,A,d){"use strict";const t=o.findByProps("openLazy","hideActionSheet"),c=o.findByProps("ActionSheetRow")?.ActionSheetRow,m=o.findByStoreName("MessageStore");let f;const S=function(){f?.()};function v(){f=u.after("openLazy",t,function(R){let[,w]=R;w==="MessageLongPressActionSheet"&&(t.openLazy=function(B){return async function(){for(var l=arguments.length,g=new Array(l),a=0;a<l;a++)g[a]=arguments[a];const y=await B(...g);return u.after("default",y,function(E,P){let[{message:h}]=E;const r=A.findInReactTree(P,function(e){return Array.isArray(e)&&e.some(function(s){return s?.type===c})});!r||r.some(function(e){return e?.props?.label==="Edit Message"})||r.unshift(i.React.createElement(c,{label:"Edit Message",icon:i.React.createElement(c.Icon,{source:M.getAssetIDByName("ic_pencil_24px")}),onPress:function(){const e=h.channel_id,s=h.id,p=m.getMessage(e,s);p&&d.showModal(i.React.createElement(d.ModalRoot,{title:"Edit Message",defaultValue:p.content,onClose:function(){return t.hideActionSheet()},onSubmit:function(b){const{editMessage:L}=o.findByProps("editMessage");L(e,s,{content:b}),t.hideActionSheet()}}))}}))}),y}}(t.openLazy))})}return n.default=v,n.onUnload=S,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui.assets,vendetta.utils,vendetta.ui.modals);
