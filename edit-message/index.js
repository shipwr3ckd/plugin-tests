(function(i,n,s,u,A,S,d){"use strict";const t=n.findByProps("openLazy","hideActionSheet"),c=n.findByProps("ActionSheetRow")?.ActionSheetRow,M=n.findByStoreName("MessageStore");let f;function m(){f=u.after("openLazy",t,function(w){let[,E]=w;E==="MessageLongPressActionSheet"&&(t.openLazy=function(B){return async function(){for(var l=arguments.length,h=new Array(l),o=0;o<l;o++)h[o]=arguments[o];const g=await B(...h);return u.after("default",g,function(P,b){let[{message:y}]=P;const r=S.findInReactTree(b,function(e){return Array.isArray(e)&&e.some(function(a){return a?.type===c})});!r||r.some(function(e){return e?.props?.label==="Edit Message"})||r.unshift(s.React.createElement(c,{label:"Edit Message",icon:s.React.createElement(c.Icon,{source:A.getAssetIDByName("ic_pencil_24px")}),onPress:function(){const e=y.channel_id,a=y.id,p=M.getMessage(e,a);p&&d.showModal(s.React.createElement(d.ModalRoot,{title:"Edit Message",defaultValue:p.content,onClose:function(){return t.hideActionSheet()},onSubmit:function(z){const{editMessage:I}=n.findByProps("editMessage");I(e,a,{content:z}),t.hideActionSheet()}}))}}))}),g}}(t.openLazy))})}function v(){f?.()}const L=function(){m()},R=function(){v()};return i.onLoad=L,i.onUnload=R,i})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui.assets,vendetta.utils,vendetta.ui.modals);
